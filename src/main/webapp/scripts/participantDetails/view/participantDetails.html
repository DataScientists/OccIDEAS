<div id="participant-details-wrapper">

	<div>Participant Reference: {{participant.reference }}</div>

	<div>Interview ReferenceNumber:{{interview.referenceNumber }}</div>
	<div>vm.isZeroRecord:{{vm.isZeroRecord}}</div>

	<!-- 
	<div>
		<fieldset>
			<legend>Update the details:</legend>
			<div>
				<button ng-click="vm.saveParticipantDetails()">
					<span>Save Details</span>
				</button>
			</div>
		</fieldset>
	</div>
 -->
	<hr></hr>
	<div ng-if="vm.isMapping === false">
		<fieldset>
			<legend>Add or View Next Job:</legend>
<!-- 
			<div class="button-list">
				<div ng-repeat="participant in vm.otherParticipantJobs">

					<div ng-if="(participant.reference != vm.currentReferenceNumber)">

						<button ng-click="vm.openOtherDetailsTab(participant)">
							{{participant.reference}}</button>
					</div>
				</div>

			</div>
			 -->
			<button ng-click="vm.addJobHistoryParticipant()">
				<span>Next Job</span>
			</button>
		</fieldset>
	</div>
</div>
<hr></hr>
<div ng-if="vm.isZeroRecord === true">
	<fieldset>
		<legend>Participant Details:</legend>
		<div>
			<label for="4CharCode">4 Character Code:</label> <input type="text"
				id="4CharCode" name="4CharCode" ng-model="vm.charCode">
		</div>
		<div>
			<label for="age">Year of Birth:</label> <input type="text" id="age"
				name="age">
		</div>
		<div>
			<label for="gender">Gender:</label> <select id="gender" name="gender">
				<option value="male">Male</option>
				<option value="female">Female</option>
				<option value="other">Other</option>
			</select>
		</div>
		<div>
			<label for="name">4 Number Code:</label> <input type="text" id="name"
				name="name">
		</div>
		<div>
			<label for="comments">Comments:</label>
			<textarea id="comments" name="comments" rows="4"
				ng-model="vm.comments"></textarea>
		</div>
		<div>
			<button ng-click="vm.saveParticipantDetails()">
				<span>Save Details</span>
			</button>
		</div>
	</fieldset>
</div>
<div ng-if="vm.isZeroRecord === false && vm.isMapping === false">
	<fieldset>
		<legend>Job Details for {{vm.jobNumber}}:</legend>
		<div>
			<label for="from_date">From Date:</label> <input type="text"
				id="from_date" name="from_date" ng-model="vm.fromDate">
		</div>
		<div>
			<label for="until_date">Until Date:</label> <input type="text"
				id="until_date" name="until_date" ng-model="vm.untilDate">
		</div>
		<div>
			<label for="employer">Employer:</label> <input type="text"
				id="employer" name="employer">
		</div>
		<div>
			<label for="address">Address:</label> <input type="text" id="address"
				name="address">
		</div>
		<div>
			<label for="title">Title:</label> <input type="text" id="title"
				name="title" ng-model="vm.jobTitle">
		</div>
		<div>
			<label for="main_product">Main Product:</label> <input type="text"
				id="main_product" name="main_product" ng-model="vm.product">
		</div>
		<div>
			<label for="average_hours">Average Hours:</label> <input type="text"
				id="average_hours" name="average_hours">
		</div>
		<div>
			<button ng-click="vm.saveParticipantDetails()">
				<span>Save Details</span>
			</button>
		</div>
	</fieldset>
</div>
<div ng-if="vm.isMapping === true">
	
	<hr></hr>
	<fieldset>
		<legend>Job History Details:</legend>

		<div>
			<div ng-repeat="participant in vm.otherParticipantJobs">
				<hr />
				{{participant.reference}}
				
				<div ng-repeat="detail in participant.participantDetails">
					<div ng-if="detail.detailName === 'Priority'">
						<div ng-if="participant.mappedTo != 'NONO'">
							<label for="mappingJob">Job Module:</label> <select
								id="jobModule" ng-model="participant.mappedTo"
								ng-options="jobModule for jobModule in jobModules">
							</select>

							<p>Selected Job Module: {{ participant.mappedTo }}</p>
							<label for="priority">Priority:</label> <input type="text"
								id="priority" name="priority" ng-model="detail.detailValue">
						</div>
					</div>
					{{detail.detailName}}:{{detail.detailValue}}
				</div>
			</div>

		</div>
		<div>
			<button ng-click="vm.saveParticipantMappings(vm.otherParticipantJobs)">
				<span>Update Job Mapping</span>
			</button>
		</div>
	</fieldset>

</div>
