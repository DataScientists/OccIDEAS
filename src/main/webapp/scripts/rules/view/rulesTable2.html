<div ng-cloak>
  <div>
    <table class="table table-condensed table-bordered table-hover" ng-table-dynamic="vm.tableParams with vm.cols">
      <colgroup>
        <col width="60%"/>
        <col width="20%"/>
        <col width="20%"/>
      </colgroup>
      <tr class="ng-table-group" ng-repeat-start="group in $groups">
        <td colspan="7">
          <a href="" ng-click="group.$hideRows = !group.$hideRows">
            <span class="glyphicon"
                  ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
            <strong>{{ group.value }} </strong>
          </a>
        </td>
      </tr>
      <tr ng-hide="group.$hideRows" ng-repeat="node in group.data" ng-repeat-end>

        <td ng-repeat="col in $columns">{{node[col.field]}}
          <span class="glyphicon glyphicon-search" ng-if="col.field == 'nodeNumber'"
                ng-mouseenter="nodePopover.open(node)"
                ng-mouseleave="nodePopover.close(node)"
                popover-is-open="node.info['Node'+node.idNode].nodePopover.isOpen"
                popover-placement="top"
                uib-popover-template="nodePopover.templateUrl">
		    </span>
        </td>
      </tr>
    </table>


    <!-- <table ng-table="vm.tableParams" ng-cloak
      class="table table-bordered table-hover
    table-condensed editable-table moduleTable"
      ng-form="tableForm" disable-filter="vm.isAdding"
      demo-tracked-table="vm.tableTracker">
          <tbody ng-repeat="group in $groups">
          <tr class="ng-table-group">
              <td colspan="{{$columns.length}}">
                  <a href="" ng-click="group.$hideRows = !group.$hideRows">
                      <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
                      <strong> {{ group.value }}</strong>
                  </a>
              </td>
          </tr>
          <tr ng-hide="group.$hideRows" ng-repeat="node in group.data" ng-form="rowForm" demo-tracked-table-row="row">
              <td data-title="'Module'" groupable="'moduleName'" sortable="'moduleName'">
                {{node.moduleName}}
              </td>
              <td data-title="'Agent'" groupable="'agentName'" >
                {{node.agentName}}
              </td>
              <td data-title="'Rule Id'" groupable="'rule.idRule'" >
          <div>
            <span>{{node.rule.idRule}}</span>
          </div>
        </td>
        <td data-title="'Rule Level'" groupable="'ruleLevel'" sortable="'ruleLevel'">
          <div>
            <span>{{node.ruleLevel}}</span>
          </div>
        </td>
        <td data-title="'Rule Type'" groupable="'ruleType'" >
          <div>
            <span>{{node.rule.type}}</span>
          </div>
        </td>
        <td data-title="'Node Number'" groupable="'nodeNumber'" >
          <div>

            <span popover-is-open="node.info['Node'+node.idNode].nodePopover.isOpen"
              popover-placement="top"
              ng-mouseenter="nodePopover.open(node)"
              ng-mouseleave="nodePopover.close(node)"
              uib-popover-template="nodePopover.templateUrl" >
            {{node.nodeNumber}}

          </span>

          </div>
        </td>
        <td  data-title="'Additional Fields'"  >

          <span >{{node.rule.ruleAdditionalfields[0].value}}:{{node.rule.ruleAdditionalfields[1].value}}</span>

        </td>
          </tr>
      </tbody>
    </table> -->
  </div>
</div>
