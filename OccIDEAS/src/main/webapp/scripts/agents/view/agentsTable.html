<div ng-cloak>
<div >
<!-- <pre>troy1 {{vm.tableParams | json}}</pre> -->
	<md-content flex>
	<table ng-table="vm.tableParams"
		class="table table-bordered table-hover 
  table-condensed editable-table moduleTable"
		ng-form="vm.tableForm" disable-filter="vm.isAdding"
		demo-tracked-table="vm.tableTracker">      
        <tbody ng-repeat="group in $groups">
        <tr class="ng-table-group">
            <td colspan="{{$columns.length}}">
                <a href="" ng-click="group.$hideRows = !group.$hideRows">
                    <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
                    <strong> {{ group.value }}</strong>
                </a>
            </td>
        </tr>
        <tr ng-hide="group.$hideRows" ng-repeat="row in group.data" ng-form="rowForm">          
            <td sortable="groupName" data-title="'groupName'" groupable="'groupName'" ng-if="false">
            	{{row.type}}
          	</td>
            <td title="'Name'" filter="{name: 'text'}" sortable="'name'"
				ng-switch="row.isEditing" ng-class="name.$dirty ? 'bg-warning' : ''"
				ng-form="name" demo-tracked-table-cell>
				<div ng-click="row.isEditing = true">
					<span ng-switch-default class="editable-text">{{row.name}}</span>
					<div class="controls"
						ng-class="name.$invalid && name.$dirty ? 'has-error' : ''"
						ng-switch-when="true">
						<input type="text" name="name" ng-model="row.name"
							class="editable-input form-control input-sm" required />
					</div>
				</div>
			</td>
			<td title="'Description'" filter="{description: 'text'}"
				sortable="'description'" ng-switch="row.isEditing"
				ng-class="description.$dirty ? 'bg-warning' : ''"
				ng-form="description" demo-tracked-table-cell>
				<div ng-click="row.isEditing = true">
					<span ng-switch-default class="editable-text">{{row.description}}</span>
					<div class="controls"
						ng-class="description.$invalid && description.$dirty ? 'has-error' : ''"
						ng-switch-when="true">
						<input type="text" name="description" ng-model="row.description"
							class="editable-input form-control input-sm" required />
					</div>
				</div>
			</td>
			<td>
				<button class="btn btn-primary btn-sm"
					ng-click="vm.save(row, rowForm)" ng-if="row.isEditing"
					ng-disabled="rowForm.$pristine || rowForm.$invalid">
					<span class="glyphicon glyphicon-ok"></span>
				</button>
				<button class="btn btn-default btn-sm"
					ng-click="vm.cancel(row, rowForm)" ng-if="row.isEditing">
					<span class="glyphicon glyphicon-remove"></span>
				</button>
				<button class="btn btn-default btn-sm"
					ng-click="alert('under development')" ng-if="!row.isEditing">
					<span class="glyphicon glyphicon-list-alt"></span>
				</button>
				<button class="btn btn-danger btn-sm" ng-click="vm.del(row)"
					ng-if="!row.isEditing">
					<span class="glyphicon glyphicon-trash"></span>
				</button>
			</td>
        </tr>
    </tbody>
	</table>
	</md-content> 
</div>
</div>
