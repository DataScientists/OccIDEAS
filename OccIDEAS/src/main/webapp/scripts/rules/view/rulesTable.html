<div ng-cloak>
<div>
	<table ng-table="vm.tableParams" ng-cloak
		class="table table-bordered table-hover 
  table-condensed editable-table moduleTable"
		ng-form="tableForm" disable-filter="vm.isAdding"
		demo-tracked-table="vm.tableTracker">     
        <tbody ng-repeat="group in $groups">
        <tr class="ng-table-group">
            <td colspan="{{$columns.length}}">
                <a href="" ng-click="group.$hideRows = !group.$hideRows">
                    <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
                    <strong> {{ group.value }}</strong>
                </a>
            </td>
        </tr>
        <tr ng-hide="group.$hideRows" ng-repeat="node in group.data" ng-form="rowForm" demo-tracked-table-row="row">          
            <td data-title="'Module'" groupable="'moduleName'" >
            	{{node.moduleName}}
          	</td>
            <td data-title="'Agent'" groupable="'agentName'" >
            	{{node.agentName}}
          	</td>
            <td data-title="'Rule Id'" groupable="'idRule'" >
				<div>
					<span>{{node.idRule}}</span>				
				</div>
			</td>
			<td data-title="'Rule Level'" groupable="'ruleLevel'" >
				<div>
					<span>{{node.ruleLevel}}</span>				
				</div>
			</td>
			<td data-title="'Node Number'" groupable="'nodeNumber'" >
				<div>
					
    			<span popover-is-open="node.info['Node'+node.idNode].nodePopover.isOpen" 
    				popover-placement="top" 
    				ng-mouseenter="nodePopover.open(node)" 
    				ng-mouseleave="nodePopover.close(node)"
    				uib-popover-template="nodePopover.templateUrl" >
					{{node.nodeNumber}}
					
				</span>
  									
				</div>
			</td>			
			
        </tr>
    </tbody>
	</table>
</div>
</div>
